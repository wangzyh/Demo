<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>时钟</title>
	<script type="text/javascript">
		var now = '后台打印时间';
	</script>
	<script type="text/javascript">
		window.onload = function () {
			// 页面下线
			// window.location.href = "http:www.baidu.com";
			var oDiv = document.getElementById('div1');

			function timeleft() {

			// 实际开发中此时间从服务器获取;
			var now = new Date();
			var future = new Date(2018,0,22,14,31,0);// 0是一月

			var left = parseInt((future-now)/1000);

			var day = parseInt(left/86400);
			var hour = parseInt((left%86400)/3600);
			var minute = parseInt(((left%86400)%3600)/60);
			var second = left%60;

			if(left<=0){
				window.location.href = "http:www.baidu.com";
			}

			oDiv.innerHTML = '距离2018年1月22日晚24时还有 '+todou(day)+'天'+todou(hour)+'小时'+todou(minute)+'分'+todou(second)+'秒';
			}
			timeleft();
			setInterval(timeleft,1000);
		}



		function todou(num) {
			if(num<10){
				return '0'+num;
			}
			else{
				return num;
			}
		}


	</script>
</head>
<body>
	<div id="div1"></div>
</body>
</html>
